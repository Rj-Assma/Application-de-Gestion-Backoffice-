<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ma BibliothÃ¨que</title>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<!-- ================= LOGIN ================= -->
<div id="login-page">
  <div class="centered">
    <h2>Connexion</h2>
    <form id="login-form">
      <input id="username" type="text" placeholder="Utilisateur" required>
      <input id="password" type="password" placeholder="Mot de passe" required>
      <button type="submit">Se connecter</button>
      <p id="login-error" class="error"></p>
    </form>
  </div>
</div>

<!-- ================= APP ================= -->
<div id="app" class="hidden">

  <!-- ================= NAVBAR ================= -->
  <nav class="navbar">
    <div class="nav-left">
      <!-- Menu button -->
      <button class="menu-btn" onclick="toggleSidebar()">â˜°</button>
    </div>

    <div class="nav-center">
      <!-- Global Search -->
      <input type="text" id="global-search" placeholder="Search books...">
      <button id="global-search-btn">Search</button>
    </div>

    <div class="nav-right">
      <!-- Language selector -->
      <select id="lang" onchange="changeLanguage()">
        <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
        <option value="en">ğŸ‡¬ğŸ‡§ English</option>
        <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
      </select>
    </div>
  </nav>

  <!-- Sidebar -->
  <div id="mySidebar" class="sidebar">
    <a href="javascript:void(0)" class="closebtn" onclick="toggleSidebar()">Ã—</a>
    <h2 style="padding-left:20px;color:#251f17;">BibliothÃ¨que</h2>
    <a href="#" onclick="showSection('dashboard')">Dashboard</a>
    <a href="#" onclick="showSection('livres')">Livres</a>
    <a href="#" onclick="showSection('auteurs')">Auteurs</a>
    <a href="#" onclick="showSection('adherents')">AdhÃ©rents</a>
    <a href="#" onclick="showSection('emprunts')">Emprunts</a>
    <a href="#" onclick="showSection('categories')">CatÃ©gories</a>
    <a href="#" onclick="logout()">DÃ©connexion</a>
  </div>

  <!-- Search Results -->
  <div id="global-search-results" class="search-results hidden"></div>

  <!-- ================= MAIN ================= -->
  <main id="main-content">

    <!-- ===== DASHBOARD ===== -->
    <section id="dashboard">
      <h1 id="title-dashboard">Tableau de Bord</h1>

      <div id="stats">
        <p>ğŸ“˜ Livres <span id="count-livres">0</span></p>
        <p>âœï¸ Auteurs <span id="count-auteurs">0</span></p>
        <p>ğŸ‘¤ AdhÃ©rents <span id="count-adherents">0</span></p>
        <p>ğŸ“š Emprunts <span id="count-emprunts">0</span></p>
        <p>ğŸ·ï¸ CatÃ©gories <span id="count-categories">0</span></p>
      </div>

      <div class="charts-grid" style="margin-top:18px;">
        <div class="chart-card"><h4>Livres par catÃ©gorie</h4><canvas id="chartLivres"></canvas></div>
        <div class="chart-card"><h4>Auteurs</h4><canvas id="chartAuteurs"></canvas></div>
        <div class="chart-card"><h4>Inscriptions adhÃ©rents</h4><canvas id="chartAdherents"></canvas></div>
        <div class="chart-card"><h4>Emprunts</h4><canvas id="chartEmprunts"></canvas></div>
        <div class="chart-card"><h4>Part des catÃ©gories</h4><canvas id="chartCategories"></canvas></div>
      </div>
    </section>

    <!-- ===== LIVRES ===== -->
    <section id="livres" style="display:none;">
      <h2 id="title-livres">Liste des Livres</h2>
      <button onclick="showForm('livres')">+ Ajouter</button>
      <button onclick="exportCSV('livres')">Exporter CSV</button>
      <button onclick="exportPDF('livres')">Exporter PDF</button>
      <div id="livres-list"></div>
    </section>

    <!-- ===== AUTEURS ===== -->
    <section id="auteurs" style="display:none;">
      <h2 id="title-auteurs">Liste des Auteurs</h2>
      <button onclick="showForm('auteurs')">+ Ajouter</button>
      <button onclick="exportCSV('auteurs')">Exporter CSV</button>
      <button onclick="exportPDF('auteurs')">Exporter PDF</button>
      <div id="auteurs-list"></div>
    </section>

    <!-- ===== ADHERENTS ===== -->
    <section id="adherents" style="display:none;">
      <h2 id="title-adherents">Liste des AdhÃ©rents</h2>
      <button onclick="showForm('adherents')">+ Ajouter</button>
      <button onclick="exportCSV('adherents')">Exporter CSV</button>
      <button onclick="exportPDF('adherents')">Exporter PDF</button>
      <div id="adherents-list"></div>
    </section>

    <!-- ===== EMPRUNTS ===== -->
    <section id="emprunts" style="display:none;">
      <h2 id="title-emprunts">Liste des Emprunts</h2>
      <button onclick="showForm('emprunts')">+ Ajouter</button>
      <button onclick="exportCSV('emprunts')">Exporter CSV</button>
      <button onclick="exportPDF('emprunts')">Exporter PDF</button>
      <div id="emprunts-list"></div>
    </section>

    <!-- ===== CATEGORIES ===== -->
    <section id="categories" style="display:none;">
      <h2 id="title-categories">Liste des CatÃ©gories</h2>
      <button onclick="showForm('categories')">+ Ajouter</button>
      <button onclick="exportCSV('categories')">Exporter CSV</button>
      <button onclick="exportPDF('categories')">Exporter PDF</button>
      <div id="categories-list"></div>
    </section>

  </main>
</div>

<!-- ===== POPUP FORM ===== -->
<div id="form-popup" class="hidden centered" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2000;">
  <h3 id="form-title"></h3>
  <form id="entity-form">
    <div id="form-fields"></div>
    <button type="submit">Enregistrer</button>
    <button type="button" onclick="closeForm()">Annuler</button>
  </form>
</div>

<!-- JS -->
<script src="script.js"></script>
</body>
</html>
<script src="script.js"></script>
</body>
</html>

